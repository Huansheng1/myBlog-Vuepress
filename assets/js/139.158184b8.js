(window.webpackJsonp=window.webpackJsonp||[]).push([[139],{487:function(t,s,a){"use strict";a.r(s);var n=a(43),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"后台富文本样式渲染失效"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#后台富文本样式渲染失效"}},[t._v("#")]),t._v(" 后台富文本样式渲染失效")]),t._v(" "),a("h2",{attrs:{id:"前置信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前置信息"}},[t._v("#")]),t._v(" 前置信息")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("后台编辑器："),a("code",[t._v("quill")])])]),t._v(" "),a("li",[a("p",[t._v("渲染环境：微信小程序")])]),t._v(" "),a("li",[a("p",[t._v("渲染插件："),a("code",[t._v("wxParse")])])])]),t._v(" "),a("h2",{attrs:{id:"分析过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分析过程"}},[t._v("#")]),t._v(" 分析过程")]),t._v(" "),a("p",[t._v("后台富文本设置了字体居中时，微信小程序渲染后的文字方向依旧靠左，字体居中失效；")]),t._v(" "),a("p",[t._v("于是我好奇这是为什么呢？")]),t._v(" "),a("p",[t._v("首先，当然是打开 微信小程序开发者工具 的 调试工具，尴尬的是，我没看出问题；")]),t._v(" "),a("p",[t._v("不过发现个小细节：富文本按道理应该是有文字居中的样式啊，跑哪去了？")]),t._v(" "),a("p",[t._v("查看下 请求接收到的富文本数据，这一看就很明白了：后台返回的富文本数据，没有字体居中样式，那么明显问题就在于 文字居中在"),a("code",[t._v("class")]),t._v("里，而后台直接返回的只有类名。")]),t._v(" "),a("h2",{attrs:{id:"解决办法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决办法"}},[t._v("#")]),t._v(" 解决办法")]),t._v(" "),a("p",[t._v("既然 "),a("code",[t._v("quill")]),t._v("富文本编辑器 样式不一定是以行内样式编写的，我们就得引入它的样式：")]),t._v(" "),a("p",[t._v("下载 "),a("code",[t._v("css")]),t._v("文件："),a("a",{attrs:{href:"https://cdn.bootcdn.net/ajax/libs/quill/0.15.0/themes/quill.snow.min.css",target:"_blank",rel:"noopener noreferrer"}},[t._v("bootcdn 下载"),a("OutboundLink")],1),t._v("，将后缀名改为"),a("code",[t._v("wxss")])]),t._v(" "),a("p",[t._v("在 "),a("code",[t._v("wxParse.wxss")]),t._v("引入：")]),t._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token atrule"}},[a("span",{pre:!0,attrs:{class:"token rule"}},[t._v("@import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./quill.snow.min.wxss"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("最后在使用的地方增加类名"),a("code",[t._v("ql-editor")]),t._v("：")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token style-attr language-css"}},[a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('="')]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token property"}},[t._v("margin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("0px 8px 0px 8px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("ql-editor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("is")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("wxParse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{wxParseData:article.nodes}}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("完美解决。")])])}),[],!1,null,null,null);s.default=e.exports}}]);